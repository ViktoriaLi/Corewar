Usage: ./vm_champs/corewar [-d N -s N -v N | -b --stealth | -n --stealth] [-a] <champion1.cor> <...>
    -a        : Prints output from "aff" (Default is to hide it)
#### TEXT OUTPUT MODE ##########################################################
    -d N      : Dumps memory after N cycles then exits
    -s N      : Runs N cycles, dumps memory, pauses, then repeats
    -v N      : Verbosity levels, can be added together to enable several
                - 0 : Show only essentials
                - 1 : Show lives
                - 2 : Show cycles
                - 4 : Show operations (Params are NOT litteral ...)
                - 8 : Show deaths
                - 16 : Show PC movements (Except for jumps)
#### BINARY OUTPUT MODE ########################################################
    -b        : Binary output mode for corewar.42.fr
    --stealth : Hides the real contents of the memory
#### NCURSES OUTPUT MODE #######################################################
    -n        : Ncurses output mode
    --stealth : Hides the real contents of the memory
################################################################################

сделать проверку чтоб числовые значения были числовыми

272 / 2 имя бота
после 8 байт 16 символов размер бота
4104 /2 коммент бота
дальше сам бот = размер 
добавить нс флаг для нкурсес и н  для номера игроков, нужно сделать массив соответствующий по номеру
разобраться с second_limit
if (base->go && base->flag.nc)
        usleep((useconds_t)((int)1000000 / base->speed));
сделать выполнение инструкции если ожидание 0, если больше - уменьшать, при этом не должно быть перехода с каррент позишн

добавить прверки и эррор менеджмент
нужно проверять живость процессов раз в текущий цикл ту дай

в 21 должны учитываться только живие дочерние процессы или все? вроде только живие, нужно проверять
Если ячейка на которой стояла каретка была переписана, то каретка все равно исполняет ту команду, которая была до этого - надо сохранять пред команду? если команда ждет цнужное количество циклов и была переписана, нужно сохранить ее в смд и выполнить старую, а не новую

по умолчанию новые процессы живы или нет? нет
Если процессы зародившиеся от одного игрока в сумме скажут, что они живы более 21 раз - при каждом лив или раз в цикл ту дай?

long fork - что если получается индекс за пределами размеров карты???

find_arg_index - если в массиве арг не находит такого аргумента, то бот невалидный или что делать? наверное ничего не делать, оставить как есть, добавить проверку на номер 

Один нюанс, если T_REG не последний аргумент в функции, то нужно использовать значения из регистра каретки, т.е. argument1 = karetka->[T_REG].???
 может стоит сделать удаление узла мертвого процесса из листа

If during one of those checkup we notice that there has been at least one NBR_LIVE execution of live since the latest check up, we will decrease CYCLE_TO_DIE of CYCLE_DELTA units.
For each valid execution of the live instruction, the machine must display: “A process shows that player X (champion_name) is alive”.???

добавить эрор менеджмент на меджик число
лд - более менее, стал на нужную каретку
не срабатывает каретка дочернего процесса
добавить ожидание перед выполнением функции
в визуалке проверить цвета, у дочерних ботов цвета стартовых процессов
назначать правильный цветовой индекс дочерним процессам если они срзданы от дочерних процессов

почему в оригинале в экс.кор не уменьшился цикл ту дай? также не выводится последний живой цикл
sti работает неправильно, не туда перезаписывает и не те значения
в функциях покастить все аргументы согласно размеру
какой по умолчани кери должен быть? 0

Если ячейка на которой стояла каретка была переписана, то каретка все равно исполняет ту команду, которая была до этого - нужно записывать пред команду?
Если аргументы каретки были переписаны, то следует работать с новыми значениями
Если каретка стоит на 0 или на ячейке имеющей значение больше 16, каретка переходит на следующую ячейку. - проверить 6
сдделать обнуление статических массивов+

добавить вывод если не подключена визуализация

вывод если нет визуализации 
Introducing contestants...
* Player 1, weighing 23 bytes, "zork" ("just a basic living prog") !
Contestant 1, "zork", has won !

если есть д флаг выводиться карта  таком формате без визуализации, игры при этом нет и победителя
Introducing contestants...
* Player 1, weighing 23 bytes, "zork" ("just a basic living prog") !
0x0000 : 0b 68 01 00 0f 00 00 06 64 01 00 00 00 00 01 01 00 00 00 01 09 ff fb 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
если д без цифры, то выводится только первый игрок, непонятно на что еще влияет цифра

флаги могут быть и между ботами

-с флаг - если нет фифры ничего не делает, если есть, выврдит как в д и ждет прогон циклов наверное, на нужной цифре не выходит

-v 16 показывает движение каретки без джампа
Introducing contestants...
* Player 1, weighing 23 bytes, "zork" ("just a basic living prog") !
* Player 2, weighing 23 bytes, "zork" ("just a basic living prog") !
ADV 7 (0x0800 -> 0x0807) 0b 68 01 00 0f 00 00
ADV 7 (0x0000 -> 0x0007) 0b 68 01 00 0f 00 00
ADV 8 (0x0807 -> 0x080f) 06 64 01 00 00 00 00 01
ADV 8 (0x0007 -> 0x000f) 06 64 01 00 00 00 00 01
ADV 5 (0x0813 -> 0x0818) 01 09 ff fb 00
ADV 5 (0x0013 -> 0x0018) 01 09 ff fb 00
ADV 7 (0x0000 -> 0x0007) 0b 68 01 00 0f 00 00
ADV 7 (0x0800 -> 0x0807) 0b 68 01 00 0f 00 00
ADV 8 (0x0007 -> 0x000f) 06 64 01 00 00 00 00 01
ADV 8 (0x0807 -> 0x080f) 06 64 01 00 00 00 00 01
ADV 5 (0x0013 -> 0x0018) 01 09 ff fb 00
ADV 5 (0x0813 -> 0x0818) 01 09 ff fb 00
ADV 7 (0x0800 -> 0x0807) 0b 68 01 00 0f 00 00
ADV 7 (0x0000 -> 0x0007) 0b 68 01 00 0f 00 00
ADV 8 (0x0807 -> 0x080f) 06 64 01 00 00 00 00 01
ADV 8 (0x0007 -> 0x000f) 06 64 01 00 00 00 00 01
ADV 5 (0x0813 -> 0x0818) 01 09 ff fb 00
ADV 5 (0x0013 -> 0x0018) 01 09 ff fb 00
Contestant 2, "zork", has won !

-v 8
Introducing contestants...
* Player 1, weighing 23 bytes, "zork" ("just a basic living prog") !
* Player 2, weighing 23 bytes, "zork" ("just a basic living prog") !
Process 2 hasn't lived for 1961 cycles (CTD 1536)
Process 1 hasn't lived for 1961 cycles (CTD 1536)
Contestant 2, "zork", has won !

-v 4
Introducing contestants...
* Player 1, weighing 23 bytes, "zork" ("just a basic living prog") !
* Player 2, weighing 23 bytes, "zork" ("just a basic living prog") !
P    2 | sti r1 15 0
       | -> store to 15 + 0 = 15 (with pc and mod 2063)
P    1 | sti r1 15 0
       | -> store to 15 + 0 = 15 (with pc and mod 15)
P    2 | and -2 0 r1
P    1 | and -1 0 r1
P    2 | live 167770880
P    1 | live 167770880
P    2 | sti r1 15 0
       | -> store to 15 + 0 = 15 (with pc and mod 15)
P    1 | sti r1 15 0
       | -> store to 15 + 0 = 15 (with pc and mod 2063)
P    2 | and 0 0 r1
P    1 | and 0 0 r1
P    2 | live 167770880
P    1 | live 167770880
P    2 | sti r1 15 0
       | -> store to 15 + 0 = 15 (with pc and mod 2063)
P    1 | sti r1 15 0
       | -> store to 15 + 0 = 15 (with pc and mod 15)
P    2 | and 0 0 r1
P    1 | and 0 0 r1
P    2 | live 167770880
P    1 | live 167770880

-v 2
Introducing contestants...
* Player 1, weighing 23 bytes, "zork" ("just a basic living prog") !
* Player 2, weighing 23 bytes, "zork" ("just a basic living prog") !
...
It is now cycle 5108
It is now cycle 5109
...
Contestant 2, "zork", has won !

-v + промежуточные цифры типа 3, 6 - оригинал на них раюотает , непонятно что выводить, поправить в считывании флагов

-b выводит мусор, бинарник 

-n --stealth 
вся карта в ff включая код ботов

чекать флаги на повторность?
если после флага вместо числа чтото левое, то оригинал работает, что делать?

зафришить:
процессы вконце игры
bots[j].exec_part
где нужно брать байты наоборот, а где нет? 
со слов Дениса брать байты у обычном порядке, нулевой элемент массива регистров - это номер процесса в виде (индекс + 1) * -1, его нужно записать сразу при инициализации
нужно ли добавлять  имя форкнутого бота в первый регистр?
заменить везде считывание в обычный порядок байт
сделать функцию которая заполнит индексы новыми элементыми при смене карты
добавить прверку команды при ожидании и ожидание
длбавить слип
добавить везде % мемсайз
проверитьв се номера регистров, чтоб при доступе был -1 и при проверке 1-16
обязательно ли удалять убитые процесы? это может играть роль в индексе новых процессов
нужна ли вадидация аргументов команд на предмент соответствия таблице? возможно да, если команда не та, ничего не делать
наверное нужно проверять чтоб не было тех аргументов которых быть не должно? хотя наверное все норм
можно убрать find_arg_index где не обязательно 
все равно ошибка в гагнант сти - неправильный одсчет индекса

добавить обновление цикла ожидания для команд в основном цикле

возможно баги можно решить остатком от деления на идхмод общего числа
проблема с форком, неправиьно ставит индексы- но только в гагнанте, в каре норм, может проблема в оригинале
live функция обратить внимание, на боте кар был сегфолт изза ненахождения текущего процесса в листе, сегфолта нет, но может работать неправильно

комит с фиксом багов цикла нарушает работу цикла почему то, откат изменений, все еще не применено ожтдание команд в цикле

на нашей визуалке похоже дочерний бот без имени перезаписывает предыдущий Гагнант после форка
Гагнант 2775 цикл должен делать джамп на 01, но не делает этого ни вовремя ни позже
1980 цикл Гагнант неправильный индекс записи по команле сти
записывать в карту нужно в обратном порядке байти
если задержка в программе больше 1 цикла, нужно ли прорисовывать карту чаще? или только ра в период ожидания?
2787 цикл Гагнант, почему подсветилась белым команда 01? 2811 - после этого часть когда начиная от 01 16 байт скопированы вниз карты!
пишет на 363 позицию каррент 46
в оригинале цикл на 1 больше проходит
реверс процессов нарушил вывод
также замена отправки индекса на ид процесса привела к поломкам


надо ускорить корвар, убрать лишние циклы, стал медленно работать
добавить увеличнение и уменьш скорости
сегфолт EXC_BAD_INSTRUCTION в гагнанте в цикле > 193          (*processes).cmd = map[(*processes).current_position]; цикл 4655
наверное надо удялать узел процеса
срочно ускорять корвар!

сегфолт на таком кейсе ./corewar vm_champs/champs/Gagnant.cor -v 6> test_origin_gagnant
CAR играет очень долго даже один, забил всю память на диске
возможно вечный цикл
не выпадает ошибка если не коректый файл типа Gagnant.ex.cor
на гагнанте сегфол на 6000 цикле
на джампере например объявляет победителя раньше, чем оригинал

проверить все функции чтоб печатались только если в ифах
неверно работает лоад, не то записывает в джампере
в гагнанте снгфолт и проблемы с лди
сегфолт в максидеф

оригинал если -в без цифры вконце пишет что невозможно открыть, если в середине игнорит
